package com.chad.whatsappclone.Fragments;

import android.os.Bundle;
import android.os.Handler;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;

import androidx.annotation.NonNull;
import androidx.databinding.DataBindingUtil;
import androidx.fragment.app.Fragment;
import androidx.recyclerview.widget.LinearLayoutManager;

import com.chad.whatsappclone.Adapter.ChatListAdapter;
import com.chad.whatsappclone.Model.ChatList;
import com.chad.whatsappclone.R;
import com.chad.whatsappclone.databinding.FragmentChatsBinding;
import com.google.android.gms.tasks.OnFailureListener;
import com.google.android.gms.tasks.OnSuccessListener;
import com.google.firebase.auth.FirebaseAuth;
import com.google.firebase.auth.FirebaseUser;
import com.google.firebase.database.DataSnapshot;
import com.google.firebase.database.DatabaseError;
import com.google.firebase.database.DatabaseReference;
import com.google.firebase.database.FirebaseDatabase;
import com.google.firebase.database.ValueEventListener;
import com.google.firebase.firestore.DocumentSnapshot;
import com.google.firebase.firestore.FirebaseFirestore;

import java.util.ArrayList;
import java.util.List;
import java.util.Objects;


public class ChatsFragment extends Fragment {

    private static final String TAG = "ChatsFragment";

    public ChatsFragment() {}

    private FragmentChatsBinding binding;

    private FirebaseUser firebaseUser;
    private DatabaseReference reference;
    private FirebaseFirestore firebaseFirestore;

    private Handler handler = new Handler();

    private List<ChatList> list;
    private ArrayList<String> allUserID;
    private ChatListAdapter chatListAdapter;

    @Override
    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState)  {
        binding =  DataBindingUtil.inflate(inflater, R.layout.fragment_chats, container, false);

        initialize();

        return binding.getRoot();
    }

    private void initialize() {
        list = new ArrayList<>();
        allUserID = new ArrayList<>();

        binding.recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));
        chatListAdapter = new ChatListAdapter(list, getContext());
        binding.recyclerView.setAdapter(chatListAdapter);
//        List<Chat> list = new ArrayList<>();

//        list.add(new Chat("11","John Doe","Hello Homie!","20/08/2020","data:image/jpeg;base64,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"));
//        list.add(new Chat("11","Jane Doe","Hello Homie!","20/08/2020","https://i.pinimg.com/originals/4d/1c/65/4d1c65f5478142a46a2cf46fd19ad55a.jpg"));
//        list.add(new Chat("11","Erick Doe","Hello Homie!","20/08/2020","https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQH3dL5Y0RTbg4ahgZ39C33NGAWCIj8pZf38A&usqp=CAU"));
//        list.add(new Chat("11","Josh Doe","Hello Homie!","20/08/2020","https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSt2Md9_Ov_3NBbpn5qAN4lGhG8RdPwqWyYvw&usqp=CAU"));
//        list.add(new Chat("11","Sam Doe","Hello Homie!","20/08/2020","https://i.insider.com/5c3e320e5241470201598c93?width=600&format=jpeg&auto=webp"));
//        list.add(new Chat("11","Sheila Doe","Hello Homie!","20/08/2020","data:image/jpeg;base64,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"));
//        list.add(new Chat("11","Sarah Doe","Hello Homie!","20/08/2020","data:image/jpeg;base64,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"));
//        list.add(new Chat("11","Lilly Doe","Hello Homie!","20/08/2020","https://ocdn.eu/images/pulscms/ZjA7MDA_/fd31743c4767fa64c45e76f0839d3e8f.jpeg"));
//        list.add(new Chat("11","Emmy Doe","Hello Homie!","20/08/2020","data:image/jpeg;base64,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"));
//        list.add(new Chat("11","Sharon Doe","Hello Homie!","20/08/2020","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxASEBUPEg8VFRUWFRUVFRUVFRUVFRUVFRUXFhUVFhUYHSggGBolHRYVITEhJSkrLi4uFx8zODMsNygtLisBCgoKBQUFDgUFDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIAOEA4QMBIgACEQEDEQH/xAAcAAABBQEBAQAAAAAAAAAAAAAAAQIDBgcEBQj/xAA8EAABAwIEAwYEAwcEAwEAAAABAAIRAwQFEiExBkFREyIyYXGBkaGx8AdCwRQjM1Ji0eFDcoLxU5LiF//EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwC1AJ4CAE8BAAJ4CQBPAQKAnAJAErnACTyQOXjY1xNQtvFLj0bBPNcvEXELaTHNa4Tp6ydp+fyWWXd86pUMO7xMkHMM0679d/vcNBPHrJltMjX83MGdNCYKlocfMO9M+2o2/uCs7okjQgepjT1O07KZlBupDsuo3Jkkz9yg1S04qoP0zQfMRrquLFON6TARTGd0aAdfM7LMLivH+pOwgevKfVctxUdJZnDRrm5jykxpsNkF4vPxBr5PA1hIALtS0anUc+nPqvEvONr8airABggREQBPek8wd+cqrisQxrSZhzukZSAYHzXPdVSe9J2EzPIa/fmg1bgzjcH91cOOpJ7Qnuy6IbEd36brQ6FzTeAWPa4HoQfovmcV+63T83+NvgrnwBxK2hWDKk5XRBnZx0Oh0CDbAlUNncsqsFRhlrhIP/anQIlShCAhCWEQgEQlhCBIQlQgEJUQgRCVCDwApAmNTwgcE4IC5r+9bSYajiIHnEnog6X1A0ZiYCrfFmNFlPLSe3Mdxz5cviq1iXGVSp3A0AeWxJEDXmF4Tq7nmX1CeWu505eaCO8uXViJfrsZEABq7BgDQNKoEa5tyZ5taNd1yXgDIGSXaeI7adBvP6rmuHXJMlhaD+Y6H4nkg7qzKLRBDy4zzA0/TquepcNcSGg+e505arzexqlodJiTDvCfZRua4EnNpG3M/f6IJ7io0AuA2MTzOv8AeFw3N+3LGXnqN503lIGt3MmOmyiqtaZAEc+qBjdWaE7yOegQ12sfr1CaymY/T9FK6lpzn7/wgfXYC0EH1Eaev0+KmwWs1lwyo5ocGHtMsgZskOLdTqSAY5kwuYPI0n2j5rswKqBcs1gP7hIdl32E5XbwBt+ZB9CYDi1C5pCpQcC3aBpB6RyXpLEfwxx1ttXdbVazWNNQjvaAkaAZtQJgc1tlOoDsgelQEqAQEJUCJUJUCISwiEAhCVAkJE5CDwGp4TGqRqBSVlHFWOOrVCwkhrHEAQZMTqRyP9lrACy3jvChTunVG6NqQSP6gNfb+6CsGuBMA7aQCZ1nn96Lpw2qQ8ad7TXnvy81Jb5NXOMaQF2UnU57OgzO4jXbpOnwKD0sa60g3O6NhBkwZj1K8Olhz+0ms4ADvOEydPpqvfwbha4ec9VxaCQYEyNtFaxwVbF/aPzOMbOMjXfRBlte9FQQJytJgcj7/eyiLCACKbi7TkT6aR0+q2ahw9b0wYpMHo0cl595Rpg+Eevmgx2+oOGppmRv09viuJj4MER+i1DELhgkEA8lV8QFN35R8B8UFf7SWxHp6qE8/vdTmkAfvl5DnunPHuR6ajz++aDhcPv75JGOIIIMEEEGToQZ3GoXRUbppt97Soi3y+/JB18S22W4LwQW1gKoidO070agHmDqBo4Fb7wNWa/D6D2uJlgJzOzEHmJPQr5/xuo407VxcXN7IsAJ8LqbyxwA5AgMPutC/BfiB8usHRkAdUpnmCXd4ee8oNdSpEqASoQgEJUIBCEsIEQlQgRCchBXwpGpgCe1A8LNvxUrhr6e2jSY5rSgs5/FaxBfbvjxuyH4jn7lB4vCvD/7U3PULmiREaSFpuEYDQogFjAPOFXMFqimA0DYK229fSZQTVi0JG1SuWvdAbBcdxewJcYQejdVdIVXxCm7U6jfddrb+tU/hMgfzv0b/leFi9u5zv3l7/xptMIPDxGZ1cvPO2i9OpgYd4e2f5mAD8ly3eFmm3YjymUHj1hJJiCuSqIO3ou12iKlORog8lzztskBnRdT6BB1UbGw6UHmXjIcvT4Vvexu6NWD3XjQGCQdCJ91DjLPC8TzB6gjaY0UWFwatKWgjtGSNpGYTryQfU9J8gGIkTCemUjoPQKQIBKhCASpEqAhCVCAQhCAQlQgr7VI1RtUgQPCqP4kUppUHz4bhmnr/wBK3BeDx1b57NxH5H06nsHAH5EoKta3WV8DdWGjeDLEyVS3lwcY+S9zCGuI1lB7Drhx2C530j4nanoumkD0Q4g6E6IOHtX1DlB/QBdLLS3ojPUMuievyUWI4lToMGVoJVF4kxw1Hu1gbfXT6oPc4g4yyyyi0TrHPbqqXXvrys6S4x0TLKnndqYE6nqrMLyhSYGg7IK3SbUBh43XV2Z66J19fsce7sueld8iglrN0+9F5zmmYGpJgep0HzXrtEhcrqBzDyM/DZB6+LXrbOmy2pjO+AXuES5xGvoBKq98W1Wmt2Yp65XhuxkaOjkdwfZdTcTDKj3FuZxgAnWBzjzXuYfh7LnKGty53NEHwl2dpg/fNBs3CVSq6yoGsIqdm3MCIMwvXSNbAA6JyAQhKgEISoBCEqBEqEIBCEIK81StUTVI0oJQmXNu2ox1N4lrgWkeRTwnBBmdzTZbV3UajtjoY3aQCHfP5LtZjNuANR7Fc34i2M3bahkB1JoB82udPnOoVGv7KszvDw9dkGkOxelGjx9FE6/B1lZjSxFzdCV61vdvfGTdB7WOuzaz+kehVMvqsmOcmT7q4XeFVzSzuadvvVVJuGVX1Oza0lxMAeZMIOnA7A1ZJqdnTb4nnf0bP15ea9HFKmD02AMdXrP/AJg54ZPODoD7BTcM4QypUDboltu0uysAPfc0wXOygkCZ3XmYxw/Tp1dLxr6I8E5nPa3fLkOnPfZB5pqsLoYHa8nan4rrp2b4ktI9V7HDmGmvXDmMIYOZ5xorNj1iGt2QU21PIrqewSCduahAhykuvCgdhlpSo3RBYKzC0RImCdwekKwmgKelPU9o0gAaMABJJPpPwXgcLXeWplJaA9pa4v2AnWPMjRWjD6dSvdCi3/Wc51QjSKfMjppoPUINVt6mZjX/AMzQfiJUiRrQAANhoPQJUAhCVABKhCASpEqAQhCAlCEqCuhSNUbVI1BK1OCY1PCDxOLsH/aaHd8dOXM89O833ge4CynD8QpgQbU3Vw4SGvJ7KkOQyDcxz69FuYWZ43afsN5Ur0aYMmS2N2v7x+BlBnGKYkaxbDGBx8TWUm02gkwGt5n3Vp4cw0MfTJe0945gNQMvOZ9dOUKMF11cZqVpTpuJl1XLMdXQdJ9QrfZYcA9rA4nZsnUnaSfmgud1aA0YI5foqB+xilcZ2jwmVqVSj+6y/wBICo+LWLmGQdTog4a2CUqrctRriNS0hx0HTL/hctHgm2zSS9w6GB9AujCMQdTrGjV0O7fMK0y0idvRBHYWNKhT7rQ0BU3ijEQ6Wgqy4vXDWxMDVZ3i1SXE6oPOz6rvezMPZeSHd6V61s7aUHlW7mU6js7XRrBaNQStj4CwZzDUunNcA4CnQD/H2IM9o4ci7umPJZ+2iBXtTAI/aGAgtLgQXN0LRqRvotb4UuhUtWEOnL3T3mv25ZmgAwIG3JB66EIQKhIlQKhJKVAqEiVAJUgSoBCEIK6E8JgTwgkapGqNqeEDwq3xMGtrU3OGj2Fvu0//AErIF4fGlmaltnG9M5/+Ozv0P/FB4lK3bmhsR0H6rss2AVw7k1sa9ZH6fVVm0v8ALz1XFxTxDVpMZkboTOYdehQaleY/Ra3V4VercY2ckP8Ay7TCyWpjdxWPdDiTyGp+S4quG13DO9rtToCgumNY/Sq1mlmvfBBG8TtKvFHO1g+vNZPgHD1V9VkgNaHAnnoDK2Sq5uSPKEFRxy/eT05aKn3jzKtHEDBOn2FVLkIOTmvQs37LzZ1XVbv1Qe1eVg1tOofy1WHcjYzuNRtuNVp/BdxL7ilJOV7SJcXmCwDxEAnbmAVj+NVh2LW8y6fgP8q5i/qW1w+qwySA/wAOUVBmcCdNHTHjbAJ1gINVQvNwLGqV1SFSm7X8zebTzBC9NAIQlQIlQhAJUIQCVIlQCEJUFbaVI1RNUjUEgTwmBPCB4Kc5oIIIkEEEdQdwmBSBBkXEWHutrh1LWPEw9WHb4bey9PA6jSwhwBHMEAg+oKtfGeCm4oZmD95Tkt6ub+Zv6j081QLOvlb8kHdhmFU/2x72MAkEwBAE+QXr3eDtfSJcQ0cnEgCeYE7qvOx00XubTflcB3iIknp5AbLzL7i19V8vJdAgTt6oLPb0m04ArMP/ACaTPl1TbzFsogn5qh1LutdVMtKmS7k1oJgL06fB15lD6tZtIdCZd7t2CCa/xMOXj3NVcly5rXENcXAEgE7kDnAXMaxKCfMlZWgrmzqKpUhB03dyXu8hp/dXCrc605a0F9LM7Lp3nw4hwGgIkHT+ZUSkVYDibqnZg/6bSJOrnEmSSY9APRB6eFYpUta3asJie8BzE6ha9Q4haG0y8QHxDpGUlwluvmsVc6Ve+H6TKuF5DMjOzUmJaczSPZBpNCs1wkKVZnWvq7CwMquBNNpdBnWOc81E/H8To95lRtUc2VGwfZzY+iDUULMsJ/Fdhf2d1bmlrBc05gD5iJWg4diVGuwVKVRr2nUEGUHahNlKgWUJEqBZQkQgrYUgUYTwglaU8FRNTwUEoTwogU8IJAVQuN+Gy0PuqA0PeqMH5TuXgdDz6b+l8CVBj3BvDVvdOe+tUcXT4QcoGvlqeS92+/DO0cZbUeB5uJ56qbijhSrRcbuxHnUojp/Mz+3w6KqXPHdwG5S123UfDqg0CytLSwo9wAefMmNPX1Wc8ZcUmq5zWnyGvx+/NeJinE1zWEagRAkyV5DLckySgRriU8AroFINChq1BsEDXPhQEyUjnSgIJmLrouXG0ropuQeva1NNVpHAAItHOJaAa5AmW69mJg7H0WW0X8lsfBFkKdpQkHNUJe7oc2jQ5rttIgjog4b5jf2tzRENaxunWJKmxAspUX1nbNaT/Zc/Zk3twdf4ka/0gBVj8RcbmLNh271SOvIIKXcVi97qh3JJ+K6cLxevbPz0KrmHnB0Pq3YrialaEGn4H+KzhDbmlP8AWz65StCwbiK1uRNKq0+UwR6hfN/kpre4fTcHscWkbEGD8UH1CClWOcL/AImVacU7kF7f5h4h6jmtTwjGqFywPpVA4eR1HkRyQeglSSlQVoJwTAU4FBIFIFECngoJGp4UbSngoJAnAqOUZ0EoWXfiXb2LagcxwbWcZexolpn85jwn6r3uNOMW27TRpEGqR6hg6nz8lkdeq57i9xJcTJJ3JQNrBoK531gAn1dgtB/DTCLGvTJq21N9RpIl8u8x3SY+SDM3vc7Xl1UDld+OOH3W9YkDuPlzSNoJ1Htt8FT6lJBzBOCdkShiBQpqSiAXXY2z6j202NLnOMNaNyUHrcOYU+5uGUGDc94mYDRqZI26epC2jDnNYx909obSoNy05BDgGty9m4neDsfMLwuFuHf2ZgpN1rVQO1cMwPZOB7rCObXASVLxni7GtbZB/wC7pQ+4drLnDVrJnWTqR5BB49xiQtrZ1w/+I8ucBpJe8k8ukrL69dz3mo4y5xkn1XfxBjDrmpm2YNGN6Dr6rzAgcSnSo05A9KkCVAhXbh2J1qDw+lUc1w5g/XquNCC5/wD6Rf8A/kb/AOn+UKl5kqD6CCcE1OCB4Tgmgp4QPCcCmAoc4AIFqVYCoXGPGWSaFB3e2c/+XyHmubjPi6c1Cg7bRzx9As8q1CSgfVrFzi4kkkySdZKQnkoS9NDkEhGisHAuLm3uQJ7ryB6HkVXWkpwMHTlqEG54xh1O7b2DxlLu/Rqbw78zT5eQWUcQcNVqDy17COh5EdQeYWj8GYuy9txTzAVmaiTrI39ivSvb4ZOyq02uGxa9uaD1nlAlBhDrY9Er7YxK06+w3CwQ49oyZOUOB0DgBvqJUgqYbQYKrKDSQRrUJqGc+kN2Gn0QUHA+Fri5c3KzKwkDtX91g855+y0nAcBp2oay3Geq8fxSO8SypBGQ+BmsSpsPvat48MoMhgHeqPENaA/MMtPbMAuPiXiuhZNNG3rF9QyKtbRzjsctM7CZM8gg9PHsSZh7HU6b29qZLnHw0Gu72UCfFrIHusfxfFjW7jZDASdTq9x1L3HmSdVDi2LVLh0uJy8hJPu4nVx8yuKYQKhNlEoJAiU0ICCQFOCYEsoHyhIgIFhCEqD6CCVIEqBQnApqcEDwVWePsXNG3yNMOqaDyHMqyhZb+JN5mugzkxvzP/SCo1nLlcVLVcudxQJKAkQEEtNDykaUjkElnfVaLxUpvLXAyCFqXD3GVC+aKNy5tC40DamzKmmx6eh9lkpU1nZ1KruzpsLnHkPqegQa7i1jUomalq54OgdSb2gPsNQmYRhYuC6pUpGhRpzndUGQ6akQdR6lU3AsfxmzqdlSFV4H+m+m6oyB/KffkYXVx228rVqdNtarUFy1r6jI7On2oHgjbugDfpzQScV8fNLHWeHt7Ojq11XZ1QaghnMA6HNvuqAXE6ldlzhFanSFZzRkLi2QQYcDEGNlxEICUgTU6ECtSoCUIHBAQhqByUJqUIHEpZUWbVOlA+UJkoQfQ6ckCUIFCUFEIhApdAlYjxJddpc1X/1kfDRbTcOhjj5FYLeVJe53VzvqUHNUcopTnFMQKhIEoQPCa5KkKBAFPZ3L6bw5jyw7SDGh3UKEF5fxRTkA3D+6B4czgZEOB2Xk3PEbRLGufUaX5jmEe7Z1CrZKaSg9x+PsFN1EUB2bmkQT3s0yHFw5g7KvEpXFNCBQE5IEoQKEoSBKgVKCkQgdKJTQhyBrSnEpjUsoHShIhB9FhOCEIHhBQhBBefw3/wC0/RYC7n/uP1QhBA9MKVCACUIQgcUiRCBwSIQgaUwoQgY5IhCBwQhCB6VCEAkQhAqQoQgaEBCECoQhB//Z"));
//
//        recyclerView.setAdapter(new ChatAdapter(list, getContext()));

        firebaseUser = FirebaseAuth.getInstance().getCurrentUser();
        reference = FirebaseDatabase.getInstance().getReference();
        firebaseFirestore = FirebaseFirestore.getInstance();



        if(firebaseUser != null) {
            getChatList();
        }
    }

    private void getChatList() {
        binding.progressBar.setVisibility(View.VISIBLE);
        list.clear();
        allUserID.clear();
        reference.child("ChatList").child(firebaseUser.getUid()).addValueEventListener(new ValueEventListener() {
            @Override
            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {
                list.clear();
                allUserID.clear();
                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {
                    String userID = null;
                    if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.KITKAT) {
                        userID = Objects.requireNonNull(snapshot.child("chatid").getValue()).toString();
                    }
                    Log.d(TAG, "onDataChange: userid" +userID);

                    binding.progressBar.setVisibility(View.GONE);
                    allUserID.add(userID);
                }
               getUserData();
            }

            @Override
            public void onCancelled(@NonNull DatabaseError error) {

            }
        });

    }

    private void getUserData() {

        handler.post(new Runnable() {
            @Override
            public void run() {
                for(String userID : allUserID) {
                    firebaseFirestore.collection("Users").document(userID).get().addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {
                        @Override
                        public void onSuccess(DocumentSnapshot documentSnapshot) {
                            ChatList chat = new ChatList(
                                    documentSnapshot.getString("userID"),
                                    documentSnapshot.getString("userName"),
                                    "Hello there!",
                                    "",
                                    documentSnapshot.getString("imageProfile")
                            );
                            list.add(chat);
                            if(chatListAdapter != null) {
                                chatListAdapter.notifyItemInserted(0);
                                chatListAdapter.notifyDataSetChanged();
                            }
                        }
                    }).addOnFailureListener(new OnFailureListener() {
                        @Override
                        public void onFailure(@NonNull Exception e) {
                            Log.e(TAG, "OnFailure: "+e.getMessage());
                        }
                    });
                }
            }
        });
    }

}